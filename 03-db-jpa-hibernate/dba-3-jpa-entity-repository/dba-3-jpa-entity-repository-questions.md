# [DBA-3λ‹¨κ³„] μ§λ¬Έλ…ΈνΈ: JPA μ—”ν‹°ν‹°μ™€ Repository

> π’¬ λ΄„μ΄κ°€ μ§μ ‘ κ¶κΈν•΄μ„ λ¬Όμ–΄λ³Έ κ²ƒλ“¤ + μ¨μ΄μ μ„¤λ… μ”μ•½
> 
> 
> (μ½”λ“: springlab15 μ‹¤μµ κΈ°μ¤€)
> 

---

### π’΅ 1. Hibernateλ” λ­μ•Ό?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| Hibernateκ°€ μ •ν™•ν λ­μ•Ό? μ™ μ„¤μ •μ— μκΎΈ λ‚μ™€? | Hibernateλ” JPA(μλ°”μ ORM ν‘μ¤€)λ¥Ό μ‹¤μ λ΅ λ™μ‘μ‹ν‚¤λ” **κµ¬ν„μ²΄**μ•Ό. μ°λ¦¬κ°€ μ‚¬μ©ν•λ” JPAμ λ€λ¶€λ¶„ κΈ°λ¥μ€ Hibernateκ°€ μ‹¤μ λ΅ μ²λ¦¬ν•κ³  μ‹¤ν–‰ν•΄μ¤. Spring Bootμ—μ„ JPAλ¥Ό μ“°λ©΄ μλ™μΌλ΅ Hibernateλ¥Ό ν•¨κ» μ‚¬μ©ν•κ² λΌ. |

---

### π’΅ 2. jakarta.persistenceλ” λ­” κΈ°λ¥ ν•λ” κ±°μ•Ό?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| `jakarta.persistence`λ” λ­”λ°? λ‚΄κ°€ import ν•κΈ΄ ν•λ”λ° μ΄κ² λ­ ν•΄μ£Όλ” κ±΄μ§€ λ¨λ¥΄κ² μ–΄ | μ΄κ±΄ JPAμ—μ„ **Entityλ¥Ό μ •μν•  λ• μ“°λ” λ¨λ“  μ–΄λ…Έν…μ΄μ…λ“¤(@Entity, @Id λ“±)** μ΄ λ“¤μ–΄μλ” ν¨ν‚¤μ§€μ•Ό! μ¦‰, μ°λ¦¬κ°€ κ°μ²΄λ¥Ό DBλ‘ λ§¤ν•‘ν•  λ• μ“°λ” κΈ°λ¥(ORM λ§¤ν•‘ λ„κµ¬)μ΄ μ΄ ν¨ν‚¤μ§€μ— λ‹¤ λ“¤μ–΄μμ–΄. μ΄κ±Έ import ν•΄μ•Ό JPA μ–΄λ…Έν…μ΄μ…μ„ μ“Έ μ μλ” κ±°μ•Ό. |

---

### π’΅ 3. `@GeneratedValue(strategy = GenerationType.IDENTITY)`λ” λ­μ•Ό?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| `@GeneratedValue` μ•μ— μλ” `strategy = GenerationType.IDENTITY`λ” λ­μ•Ό? κ·Έλƒ¥ AUTO_INCREMENTλΌλ” κ±° μ•„λƒ? | λ§μ•„! `IDENTITY`λ” MySQLμ—μ„ μ“°λ” **AUTO_INCREMENT λ°©μ‹**μ΄μ•Ό. κ·Όλ° μ¤‘μ”ν• κ±΄ `@GeneratedValue`λ§ μ“°λ©΄ μ–΄λ–¤ λ°©μ‹μΈμ§€ **μ§μ ‘ μ •ν•΄μ£Όμ§€ μ•κΈ° λ•λ¬Έμ—**, **μ–΄λ–¤ DBλ¥Ό μ“°λƒμ— λ”°λΌ λ‹¤λ¥΄κ² λ™μ‘ν•  μ μμ–΄.** κ·Έλμ„ λ…ν™•ν•κ² "λ‚ AUTO_INCREMENT λ°©μ‹ μ“Έ κ±°μ•Ό!"λΌκ³  **`strategy`λ¥Ό μ„¤μ •ν•΄μ£Όλ” κ±°μ•Ό.** |

---

### π’΅ 4. μΈν„°νμ΄μ¤λ‚ ν΄λμ¤λ„ `< >` κΊ½μ‡  μ¨λ„ λΌ?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| μΈν„°νμ΄μ¤λ‚ ν΄λμ¤ μ΄λ¦„ λ’¤μ— κΊ½μ‡ (`< >`) λ¶™λ” κ±° μ²μ λ΄¤λ”λ°, μ΄κ±° κ°€λ¥ν• κ±°μ•Ό? | β… λ§μ•„! μλ°”μ—μ„λ” ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ„ κΊ½μ‡ (`< >`)λ΅ **μ λ„¤λ¦­(Generic)** νƒ€μ…μ„ λ°›μ„ μ μμ–΄. `JpaRepository<Product, Long>`μ²λΌ νƒ€μ…μ„ μ§μ ‘ μ§€μ •ν•  μ μμ–΄. λ§μΉ `List<String>`, `Map<String, Integer>`μ²λΌ! μλ°”μ μ μ—°ν• νƒ€μ… μ‹μ¤ν…μ„ ν™μ©ν•λ” λ¬Έλ²•μ΄μ•Ό. |
| κ·ΈλΌ `Product`λ” μ΄ν•΄λλ”λ°, μ™ `Long`μ΄ λ“¤μ–΄κ°€λ” κ±°μ•Ό? | β… κΊ½μ‡  μ•μ λ‘ λ²μ§Έ νƒ€μ…(`Long`)μ€ **Product ν΄λμ¤μ @Id ν•„λ“ νƒ€μ…**μ„ μλ―Έν•΄. Product ν΄λμ¤μ— `private Long id;`κ°€ μμΌλ‹κΉ, κ±°κΈ°μ„ IDκ°€ Longμ΄λ€ κ±Έ λ…ν™•ν μ•λ ¤μ£Όλ” κ±°μ•Ό. λ§μ•½ `@Id String id;`λ©΄ `JpaRepository<Product, String>`μ΄ λλ” μ‹μ΄μ•Ό. |
| κ·ΈλΌ μ™Όμ½μ€ ν•­μƒ Entityκ³ , μ¤λ¥Έμ½μ€ λ°λ“μ‹ κ·Έ Entityμ primary key νƒ€μ…μ΄ λ“¤μ–΄κ°€λ” κ±°μ•Ό? | β… μ™„μ „ μ •λ‹µμ΄μ•Ό! `JpaRepository<μ—”ν‹°ν‹°, ID νƒ€μ…>` μ΄ κµ¬μ΅°λ” μ •ν•΄μ§„ ν¨ν„΄μ΄μ•Ό. μ™Όμ½μ€ DB ν…μ΄λΈ”μ²λΌ μ“Έ ν΄λμ¤(μ—”ν‹°ν‹°), μ¤λ¥Έμ½μ€ κ·Έ ν΄λμ¤μ—μ„ `@Id` λ¶™μ€ ν•„λ“μ νƒ€μ…μ„ λ°λ“μ‹ μ¨μ•Ό ν•΄. λ‘μ΄ μ• λ§μΌλ©΄ μ—λ¬ λ‚! |

---

### π’΅ 5. ProductRepositoryλ” μƒμ†ν–λ”λ° μ™ μ•„λ¬΄κ²ƒλ„ μ• μ¨?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| `ProductRepository`λ” `JpaRepository<Product, Long>`μ„ μƒμ†ν–λ”λ°, μ™ μ•μ— λ©”μ„λ“κ°€ μ•„λ¬΄κ²ƒλ„ μ—†μ–΄? μ›λ μƒμ†ν•λ©΄ override ν•΄μ•Ό λλ” κ±° μ•„λ‹μ•Ό? | β… μ§„μ§ μΆ‹μ€ μ§λ¬Έ! μΌλ° ν΄λμ¤ μƒμ†μ΄λ©΄ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν•΄μ•Ό ν•μ§€λ§, **Spring Data JPAλ” λ‹¤λ¥΄κ² μ‘λ™ν•΄.** `JpaRepository`λ” μ΄λ―Έ λ§μ€ λ©”μ„λ“(`save()`, `findAll()`, `findById()` λ“±)λ¥Ό **μΈν„°νμ΄μ¤λ΅ κΈ°λ³Έ μ •μν•΄λ†¨μ–΄.** κ·Έλ¦¬κ³  Springμ΄ λ°νƒ€μ„μ— κ·Έ μΈν„°νμ΄μ¤λ¥Ό λ³΄κ³ , **μλ™ κµ¬ν„μ²΄λ¥Ό λ§λ“¤μ–΄μ„ μ‹¤ν–‰ λ• μ—°κ²°ν•΄μ¤!** κ·Έλμ„ μ°λ¦¬λ” μ¤λ²„λΌμ΄λ”© μ—†μ΄ μ΄λ¦„λ§ μ„ μ–Έν•λ©΄ λλ” κ±°μ•Ό! |

---

### π’΅ 6. `extends`λ‘ `implements` μ°¨μ΄κ°€ λ­μ€μ§€?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| `extends`λ” λ¶€λ¨ ν΄λμ¤ μƒμ†ν•λ” κ±°μ€λ κ±° κ°™μ€λ°, `implements`λ” λ­μ€μ§€? | β… λ§μ•„! `extends`λ” **ν΄λμ¤λΌλ¦¬ μƒμ†**ν•  λ• μ‚¬μ©ν•κ³ , `implements`λ” **ν΄λμ¤κ°€ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  λ•** μ‚¬μ©ν•λ” ν‚¤μ›λ“μ•Ό. μΈν„°νμ΄μ¤λ” μ¶”μƒμ μΈ κΈ°λ¥λ§ μ„ μ–Έν•΄λ‘λ” κµ¬μ΅°λΌμ„, ν΄λμ¤λ΅ λ§λ“¤λ ¤λ©΄ `implements` ν•΄μ„ μ‹¤μ  λ‚΄μ©μ„ μ±„μ›μ•Ό ν•΄. (ex: `class A implements Runnable`) |
| κ·ΈλΌ `implements`λ” μ¶”μƒ ν΄λμ¤λ‘ λΉ„μ·ν• κ±°μ•Ό? | β… λΉ„μ·ν• κ°λ…μ΄κΈ΄ ν•΄! μ¶”μƒ ν΄λμ¤(`abstract class`)λ„ **μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μ**ν•κ³ , **μμ‹ ν΄λμ¤κ°€ λ‚΄μ©μ„ μ±„μ°κ² λ§λ“λ” κµ¬μ΅°**κ±°λ“ . κ·Όλ° μ°¨μ΄μ μ€: **μ¶”μƒν΄λμ¤λ” μΌλ° λ©”μ„λ“ + μƒνƒλ„ κ°€μ§ μ μκ³ **, **μΈν„°νμ΄μ¤λ” μ›λ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ§ μ •μν–μ–΄** (μλ°”8 μ΄ν›„ default λ©”μ„λ“ ν—μ©λ¨). μ¦‰, μ¶”μƒν΄λμ¤λ” "κΈ°λ¥ μ λ° μ™„μ„±ν’", μΈν„°νμ΄μ¤λ” "κΈ°λ¥ λ©λ΅ κ³„μ•½μ„" λλ‚μ΄μ•Ό! |
| κ·Όλ° `ProductRepository`λ” `public interface`μΈλ° `extends JpaRepository` μ“°λ„¤? κ·ΈλΌ ν΄λμ¤λ„ μ•„λ‹κ³ , `implements`λ„ μ• μ“°λ”λ° μ™ `extends`μ§€? | β… μ •ν™•ν μ§μ—μ–΄! μ΄κ±΄ **"μΈν„°νμ΄μ¤κ°€ λ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ¥Ό μƒμ†ν•  λ•"λ” `extends`λ¥Ό μ“΄λ‹¤**λ” κ·μΉ™μ΄μ•Ό! μ¦‰, `ProductRepository`λ” μΈν„°νμ΄μ¤κ³ , `JpaRepository`λ„ μΈν„°νμ΄μ¤μ•Ό. μΈν„°νμ΄μ¤λΌλ¦¬λ” `implements`κ°€ μ•„λ‹λΌ `extends`λ¥Ό μ¨μ„ μƒμ†(ν™•μ¥)ν•΄. μλ°” λ¬Έλ²•μ—μ„ **μΈν„°νμ΄μ¤ β†’ μΈν„°νμ΄μ¤λ” extends**κ°€ λ§λ” ν‘ν„μ΄μ•Ό! |
| κ·ΈλΌ `ProductRepository`κ°€ `JpaRepository`λ¥Ό μƒμ†ν• κ±΄, κ·Έ μ•μ— μ„ μ–Έλ μ‹κ·Έλ‹μ²λ“¤λ§ κ·Έλ€λ΅ λ¬Όλ ¤λ°›λ”λ‹¤λ” λ»μ΄μ•Ό? | β… λ§μ•„! μ™„μ „ μ •ν™•ν•΄! `JpaRepository` μ•μ—λ” `save()`, `findAll()` κ°™μ€ **λ©”μ„λ“ μ‹κ·Έλ‹μ²λ“¤λ§ μ •μ**λμ–΄ μκ³ , `ProductRepository`λ” κ·Έκ±Έ **λ¬Όλ ¤λ°›κΈ°λ§ ν• μƒνƒμ•Ό.** μ‹¤μ  κµ¬ν„μ€ Spring Data JPAκ°€ λ°νƒ€μ„μ— μλ™μΌλ΅ λ§λ“¤μ–΄μ¤! μ¦‰, μ°λ¦¬λ” "μ΄ μΈν„°νμ΄μ¤ κµ¬μ΅° κ·Έλ€λ΅ μ“Έκ²~" λΌκ³  μ„ μ–Έλ§ ν•λ” κ±°μ•Ό. |

**π“ μ™„μ „ μ”μ•½ μ •λ¦¬**

| λΉ„κµ ν•­λ© | μ¶”μƒ ν΄λμ¤ | μΈν„°νμ΄μ¤ |
| --- | --- | --- |
| ν‚¤μ›λ“ | `abstract class` | `interface` |
| μƒμ† λ°©μ‹ | `extends` | `implements` |
| λ‹¤μ¤‘ κµ¬ν„ | β (1κ°λ§ μƒμ† κ°€λ¥) | β… μ—¬λ¬ κ° κµ¬ν„ κ°€λ¥ |
| λ©”μ„λ“ μ •μ | μΌλ° λ©”μ„λ“ + μ¶”μƒ λ©”μ„λ“ | κΈ°λ³Έμ€ μ¶”μƒ λ©”μ„λ“λ§, default/static κ°€λ¥ |
| μƒνƒ (ν•„λ“) | κ°€μ§ μ μμ | μƒμλ§ ν—μ© (static final) |
| μ©λ„ | κΈ°λ³Έ κµ¬ν„μ΄ μΌλ¶€ μλ” λ¶€λ¨ ν΄λμ¤ | κΈ°λ¥ λ…μ„Έλ§ μ •μν• κ³„μ•½μ„ λλ‚ |

---

### π’΅ 7. "μΈν„°νμ΄μ¤λ” λ©”μ„λ“ μ‹κ·Έλ‹μ²λ§ μ •μν•λ‹¤"λ” κ² λ¬΄μ¨ λ»μ΄μ•Ό?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| "μΈν„°νμ΄μ¤λ” λ©”μ„λ“ μ‹κ·Έλ‹μ²λ§ μ •μν•λ‹¤"λ” λ§μ΄ λ­μ•Ό? κ·Έλ¦¬κ³  μλ°”8 μ΄ν›„ default λ©”μ„λ“κ°€ λ­”μ§€λ„ λ¨λ¥΄κ² μ–΄. | β… "λ©”μ„λ“ μ‹κ·Έλ‹μ²λ§ μ •μν•λ‹¤"λ” λ§μ€, **λ©”μ„λ“ μ΄λ¦„ + λ§¤κ°λ³€μλ§ μ„ μ–Έ**ν•κ³  **μ‹¤μ  κµ¬ν„ λ‚΄μ©μ€ μ• μ“΄λ‹¤λ” λ»μ΄μ•Ό.** μ: `void run();` μ²λΌ λ°”λ”” μ—†μ΄ μ„ μ–Έλ§ ν•΄λ‘¬. ν΄λμ¤κ°€ `implements`λ΅ μ΄κ±Έ κµ¬ν„ν•λ©΄, κ·Έλ• λ‚΄μ©(λ°”λ””)μ„ μ¨μ¤μ•Ό ν•΄. κ·Έλ°λ° Java 8λ¶€ν„°λ” μΈν„°νμ΄μ¤ μ•μ— `default` λ©”μ„λ“λ¥Ό μ“°λ©΄ **κµ¬ν„λ„ κ°™μ΄ μ‘μ„± κ°€λ¥**ν•΄μ΅μ–΄! μ΄κ±΄ κΈ°μ΅΄ κµ¬ν„μ„ μ μ§€ν•λ©΄μ„ κΈ°λ¥λ§ μ‚΄μ§ μ¶”κ°€ν•κ³  μ‹¶μ„ λ• μ¨. |
| κ·ΈλΌ μ—¬κΈ°μ„ `default`λ” μ ‘κ·Ό μ μ–΄μ(default μ ν•μ)λ‘μ€ λ‹¤λ¥Έ κ±°μ•Ό? | β… μ™„μ „ λ‹¬λΌ! μ—¬κΈ°μ„ `default`λ” **μ ‘κ·Όμ μ–΄μβ**, κ·Έλƒ¥ **"κΈ°λ³Έ κµ¬ν„μ΄ μλ” λ©”μ„λ“"** λΌλ” λ»μ΄μ•Ό. μ¦‰, μΈν„°νμ΄μ¤ μ•μ—μ„ λ©”μ„λ“λ¥Ό λ°”λ””κΉμ§€ μ§μ ‘ κµ¬ν„ν•  μ μκ² ν•΄μ£Όλ” Java 8μ λ¬Έλ²•μ΄μ•Ό. (μ: `default void hello() { ... }`) |
| ν΄λμ¤κ°€ μ΄ `default` λ©”μ„λ“λ¥Ό λ‹¤μ‹ μ •μν•λ©΄ μ–΄λ–»κ² λΌ? | β… ν΄λμ¤μ—μ„ κ°™μ€ μ΄λ¦„μ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ”©(override)ν•λ©΄ **ν΄λμ¤ μ½ μ •μκ°€ μ°μ„  μ μ©λΌ.** μ¦‰, default λ©”μ„λ“λ” κΈ°λ³Έκ°’μΌ λΏμ΄κ³ , ν•„μ”ν•λ©΄ μ–Έμ λ“  λ®μ–΄μ”μΈ μ μμ–΄. λ§μΉ μƒμ†λ°›μ€ λ©”μ„λ“ override ν•λ” κ²ƒμ²λΌ! |

---

### π’΅ 8. Spring Data JPAλ” λ„λ€μ²΄ λ­μ•Ό?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| Spring Data JPAλ” λ„λ€μ²΄ λ„κµ°λ°? μ™ μ°λ¦¬κ°€ `JpaRepository` μ“°λ©΄ μ•μ•„μ„ λ™μ‘ν•΄? | β… Spring Data JPAλ” **Spring ν”„λ μ„μ›ν¬μ—μ„ μ κ³µν•λ” JPA λ³΄μ΅° λΌμ΄λΈλ¬λ¦¬μ•Ό.** μ°λ¦¬κ°€ μ§μ ‘ `save()`, `findAll()` κ°™μ€ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ•„λ„, **μΈν„°νμ΄μ¤λ§ μ„ μ–Έν•λ©΄ Springμ΄ μλ™μΌλ΅ κµ¬ν„μ²΄λ¥Ό λ§λ“¤μ–΄μ£Όλ” λ§λ²•κ°™μ€ κΈ°λ¥**μ΄μ•Ό! λ‚΄λ¶€μ μΌλ΅λ” Hibernateλ¥Ό ν†µν•΄ JPAλ¥Ό μ‹¤ν–‰ν•κ³ , κ°λ°μλ” λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘ν•  μ μλ„λ΅ λ„μ™€μ¤. |

**π–ΌοΈ λΉ„μ λ΅ μ •λ¦¬**

> JPA = β€μ΄μ „ λ©”λ‰΄μ–Όβ€
Hibernate = β€μ‹¤μ  μλ™μ°¨ μ—”μ§„β€
Spring Data JPA = β€μλ™μ£Όν–‰ κΈ°λ¥ (λ‚΄κ°€ μ΄μ „ μ• ν•΄λ„ λ¨!)β€
> 

---

### π’΅ 9. `CommandLineRunner`λ” λ„κµ¬μ•Ό?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| `import org.springframework.boot.CommandLineRunner`λ΅ λ¶λ¬μ¤λ” `CommandLineRunner`λ” λ„λ€μ²΄ λ„κµ¬μ•Ό? | β… `CommandLineRunner`λ” **Spring Boot μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ‹¤ν–‰λ μ§ν›„μ— μλ™μΌλ΅ νΈμ¶λλ” μ‹¤ν–‰μ© μΈν„°νμ΄μ¤μ•Ό!** μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μΌμ§ λ•, μ°λ¦¬κ°€ `run()` λ©”μ„λ“ μ•μ— μ μ–΄λ‘” μ½”λ“λ¥Ό μλ™μΌλ΅ μ‹¤ν–‰ν•΄μ¤. ν…μ¤νΈ λ°μ΄ν„° μ €μ¥, μ΄κΈ° μ„¤μ •, λ΅κ·Έ μ¶λ ¥ λ“±μ„ ν•  λ• μ£Όλ΅ μ‚¬μ©λΌ. |
| κ·ΈλΌ Springμ€ `CommandLineRunner`λ¥Ό μƒμ†ν• ν΄λμ¤λ¥Ό μ°Ύμ•„μ„, κ±°κΈ° μλ” `run()` λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•λ” κ±°μ•Ό? | β… μ •! ν™•! ν•΄! Spring Bootλ” **λΉμΌλ΅ λ“±λ΅λ λ¨λ“  ν΄λμ¤ μ¤‘μ—μ„ `CommandLineRunner`λ¥Ό κµ¬ν„ν• μ• λ“¤μ„ μλ™μΌλ΅ μ°Ύκ³ **, μ•± μ‹¤ν–‰ μ§ν›„ `run()` λ©”μ„λ“λ¥Ό νΈμ¶ν•΄μ¤. μ¦‰, κ·Έ `run()` μ•μ— μ ν μ½”λ“κ°€ μλ™ μ‹¤ν–‰λΌ! μ°λ¦¬κ°€ λ…μ‹μ μΌλ΅ νΈμ¶ν•μ§€ μ•μ•„λ„ Springμ΄ μ•μ•„μ„ μ‹¤ν–‰μ‹μΌμ£Όλ” κ±°μ•Ό. |
| κ·ΈλΌ μ •λ¦¬ν•λ©΄, `JpaExampleApplication`μ—μ„ `SpringApplication.run()`μ„ λ¨Όμ € μ‹¤ν–‰ν•κ³  β†’ μ¤ν”„λ§μ΄ μΌμ§€λ©΄ β†’ `CommandLineRunner`λ¥Ό μƒμ†ν• `InitDataRunner`λ¥Ό μλ™μΌλ΅ μ°Ύμ•„μ„ β†’ κ±°κΈ° μλ” `run()` λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•λ” κ±°λ„¤? | β… μ™„μ „ μ •λ‹µ! μ¤ν”„λ§ λ¶€νΈμ μ‹¤ν–‰ νλ¦„μ€ `main()` β†’ `SpringApplication.run()` β†’ **λΉ λ“±λ΅ μ™„λ£ ν›„** β†’ `CommandLineRunner.run()` μ‹¤ν–‰μ΄μ•Ό! Springμ΄ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ¥Ό μλ™μΌλ΅ μ°Ύμ•„μ„ νΈμ¶ν•΄μ¤! |

---

### π’΅ 10. `@Component`, `@Controller`, `@Entity` μ–΄λ…Έν…μ΄μ…λ“¤μ μ΄λ¦„κ³Ό μ—­ν• μ΄ κ¶κΈν•΄!

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| μμ „μ— `@Component`, `@Controller`, `@Service` μ΄λ° κ±° μ„μ— λ¶™μ€λ κΈ°μ–µμ΄ λ‚. κ·Έλ¦¬κ³  μ΄λ²μ—” `@Entity`λ„ μƒλ΅ λ‚μ¤μ–μ•„? μ΄λ° κ³¨λ±…μ΄ μ–΄λ…Έν…μ΄μ…λ“¤μ€ λ‹¤ λ¬΄μ¨ μ—­ν• μ„ ν•λ” κ±°μ•Ό? | β… μ΄ μ–΄λ…Έν…μ΄μ…λ“¤μ€ μ¤ν”„λ§μ΄ **νΉμ • ν΄λμ¤λ¥Ό μ–΄λ–¤ μ©λ„λ΅ μ‚¬μ©ν• μ§€ ν‘μ‹ν•λ” μ—­ν• **μ„ ν•΄! κ·Έλ¦¬κ³  λ€λ¶€λ¶„μ€ **μλ™μΌλ΅ λΉ(Bean)μΌλ΅ λ“±λ΅ν•΄μ„ μ‹¤ν–‰ νλ¦„μ— μ°Έμ—¬ν•κ² λ§λ“¤μ–΄ μ¤.** μλ¥Ό λ“¤μ–΄ `@Controller`λ” μ›Ή μ”μ²­ μ²λ¦¬μ© μ»¨νΈλ΅¤λ¬λΌλ” λ»μ΄κ³ , `@Service`λ” μ„λΉ„μ¤ λ μ΄μ–΄, `@Repository`λ” DB λ μ΄μ–΄, `@Component`λ” λ²”μ© μ»΄ν¬λ„νΈμ•Ό. `@Entity`λ” JPAμ—μ„ DB ν…μ΄λΈ”κ³Ό λ§¤ν•‘λλ” κ°μ²΄λΌλ” λ»μ΄μ•Ό. κ°κ°μ μ–΄λ…Έν…μ΄μ…μ€ **μ¤ν”„λ§μ΄ ν•΄λ‹Ή ν΄λμ¤λ¥Ό 'μ–΄λ–»κ² μ‚¬μ©ν• μ§€' μ•λ ¤μ£Όλ” μ‹ νΈ**λΌκ³  λ³΄λ©΄ λΌ! |

**π“ λ€ν‘ μ–΄λ…Έν…μ΄μ… μ •λ¦¬**

| μ–΄λ…Έν…μ΄μ… | μ—­ν•  |
| --- | --- |
| `@Component` | λ²”μ© μ»΄ν¬λ„νΈ: μ¤ν”„λ§μ΄ μλ™μΌλ΅ λΉμΌλ΅ λ“±λ΅ |
| `@Controller` | μ›Ή μ”μ²­ μ²λ¦¬ ν΄λμ¤ (μ»¨νΈλ΅¤λ¬), MVCμ—μ„ μ‚¬μ© |
| `@Service` | λΉ„μ¦λ‹μ¤ λ΅μ§ μ²λ¦¬ ν΄λμ¤ |
| `@Repository` | DB μ ‘κ·Όμ„ μ„ν• DAO ν΄λμ¤, μμ™Έ λ³€ν™ κΈ°λ¥λ„ ν¬ν•¨ |
| `@Entity` | JPAμ—μ„ DB ν…μ΄λΈ”κ³Ό λ§¤ν•‘λλ” ν΄λμ¤μ„μ„ ν‘μ‹ |
| `@SpringBootApplication` | μ—¬λ¬ κΈ°λ¥μ„ ν•©μΉ λ¶€νΈ μ•± μ§„μ…μ  (μλ™ μ„¤μ • + μ»΄ν¬λ„νΈ μ¤μΊ” ν¬ν•¨) |

---

### π’΅ 11. λΉ(Bean)μ΄ λ­”λ°?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| μκΎΈ `@Component`, `@Service` μ΄λ° κ±° λ¶™μ΄λ©΄ "λΉμΌλ΅ λ“±λ΅λΌμ”~" λΌκ³  ν•λλ°, **κ·Έ λΉ(Bean)μ΄ λ„λ€μ²΄ λ­μ•Ό?** | β… "λΉ(Bean)"μ€ **μ¤ν”„λ§μ΄ μ‹¤ν–‰ λ„μ¤‘μ— κ΄€λ¦¬ν•λ” κ°μ²΄**λ¥Ό λ»ν•΄! μ‰½κ² λ§ν•λ©΄, **Springμ΄ μ§μ ‘ λ§λ“¤μ–΄μ„, ν•„μ”ν• κ³³μ— μλ™μΌλ΅ λ„£μ–΄μ£Όλ” ν΄λμ¤ μΈμ¤ν„΄μ¤**μ•Ό. μ°λ¦¬κ°€ new ν•΄μ„ λ§λ“λ” κ² μ•„λ‹λΌ, μ¤ν”„λ§μ΄ λ―Έλ¦¬ λ§λ“¤κ³  κ΄€λ¦¬ν•λ” κ±°μ•Ό. κ·Έλμ„ μ¤ν”„λ§μ— "μ΄ ν΄λμ¤λ„ κ΄€λ¦¬ν•΄μ£Όμ„Έμ”!" ν•κ³  μ•λ ¤μ£Όλ©΄ β†’ λΉμΌλ΅ λ“±λ΅ β†’ λ‹¤λ¥Έ κ³³μ—μ„ `@Autowired` λ“±μΌλ΅ μ£Όμ…ν•΄μ„ μ“°λ” κ±°μ•Ό! |

**π“ μ™„μ „ μ”μ•½ μ •λ¦¬**

- **λΉ(Bean)**: μ¤ν”„λ§μ΄ κ΄€λ¦¬ν•λ” κ°μ²΄ (Spring Containerκ°€ λ§λ“  μΈμ¤ν„΄μ¤)
- **λΉ λ“±λ΅ λ°©λ²•**
    - μ–΄λ…Έν…μ΄μ… κΈ°λ°: `@Component`, `@Service`, `@Repository`, `@Controller`
    - XML λλ” μλ™ λ“±λ΅: `@Bean` μ–΄λ…Έν…μ΄μ… λ“±
- **λΉ μƒμ„± μ‹μ **: `SpringApplication.run(...)` μ‹¤ν–‰ ν›„ β†’ μ»΄ν¬λ„νΈ μ¤μΊ” β†’ λΉ μƒμ„± & λ“±λ΅
- **λΉ μ£Όμ…**: `@Autowired`, μƒμ„±μ μ£Όμ… λ“±μΌλ΅ λ‹¤λ¥Έ ν΄λμ¤μ— μ—°κ²°λ¨
- **μ™ ν•„μ”ν•΄?**: κ°μ²΄ μƒμ„±/μμ΅΄μ„± μ£Όμ…/κ΄€λ¦¬λ¥Ό μ¤ν”„λ§μ΄ λ€μ‹  ν•΄μ£Όλ‹κΉ μ μ§€λ³΄μκ°€ μ‰¬μ›€!

**π–ΌοΈ λΉ„μ λ΅ μ •λ¦¬**

> β•οΈ μ°λ¦¬κ°€ μ§μ ‘ μ»¤ν”Όλ¥Ό λ‚΄λ¦¬μ§€ μ•μ•„λ„
> 
> 
> **μ¤ν”„λ§ λ°”λ¦¬μ¤νƒ€κ°€ λ―Έλ¦¬ μ»¤ν”Ό(κ°μ²΄)λ¥Ό λ§λ“¤μ–΄λ‘κ³  ν•„μ”ν• κ³³μ— λ”°λΌ λ”°λΌ μ¤!**
> 
> κ·Έ μ»¤ν”Ό ν• μ” = **Bean**
> 

---

### π’΅ 12. `@Entity` λ¶™μ€ `Product`λ„ λΉμ΄ μ•„λ‹μ•Ό? μ™ newλ΅ λ§λ“¤μ§€?

| μ§λ¬Έ | λ‹µλ³€ μ”μ•½ |
| --- | --- |
| `@Component`λ‚ `@Service` λ¶™μ΄λ©΄ BeanμΌλ΅ λ“±λ΅λΌμ„ new μ• μ“°μ–μ•„? κ·Όλ° `Product`λ” `@Entity`λ„ λ¶™μ€λ”λ° μ™ newλ΅ λ§λ“¤μ–΄? | β… μ™„μ „ μ •ν™•ν• ν¬μΈνΈ! `@Entity`λ” **Bean λ“±λ΅μ΄ μ•„λ‹λΌ JPA μ „μ© μ–΄λ…Έν…μ΄μ…**μ΄μ•Ό. μ΄κ±΄ μ¤ν”„λ§μ΄ κ΄€λ¦¬ν•λ” Beanμ΄ μ•„λ‹λΌ, **μ°λ¦¬κ°€ μ§μ ‘ newλ΅ μƒμ„±ν•΄μ„ JPAκ°€ DBμ™€ λ§¤ν•‘ν•λ” κ°μ²΄μ•Ό.** μ¦‰, Entityλ” μ• ν”λ¦¬μΌ€μ΄μ… λ΅μ§μ—μ„ μ§μ ‘ μƒμ„±ν•΄μ•Ό ν•κ³ , μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ λ€μ‹  λ§λ“¤μ–΄μ£Όμ§€ μ•μ•„! κ·Έλμ„ newλ΅ λ§λ“¤κ³ , κ·Έκ±Έ Repositoryμ— λ„κ²¨μ£Όλ” κ±°μ•Ό. |

**π― ν•µμ‹¬ λΉ„κµ**

| λ€μƒ | λ„κ°€ κ΄€λ¦¬ν•΄? | μƒμ„± λ°©μ‹ | μμ‹ |
| --- | --- | --- | --- |
| Bean (`@Component`) | **Spring Container** | μλ™ μƒμ„± + μ£Όμ… (`@Autowired`) | `HelloService` |
| Entity (`@Entity`) | **JPA (Hibernate)** | μ§μ ‘ `new`λ΅ μƒμ„± | `Product` |

```java
// BeanμΈ κ²½μ° (Spring κ΄€λ¦¬)
@Autowired
HelloService helloService; // μλ™ μ£Όμ… (new μ• μ”€)
```

```java
// EntityμΈ κ²½μ° (JPA κ΄€λ¦¬)
Product p = new Product(); // μ§μ ‘ new ν•΄μ„ λ§λ“¤μ–΄μ•Ό ν•¨
```

---

### π± μ •λ¦¬ ν‚¤μ›λ“

- `@Component`: λ²”μ© μ»΄ν¬λ„νΈ, μ¤ν”„λ§μ΄ μλ™μΌλ΅ BeanμΌλ΅ λ“±λ΅ν•¨
- `@Controller`: μ›Ή μ”μ²­μ„ μ²λ¦¬ν•λ” μ»¨νΈλ΅¤λ¬ ν΄λμ¤
- `@Entity`: μ΄ ν΄λμ¤κ°€ DB ν…μ΄λΈ”κ³Ό λ§¤ν•‘λλ‹¤λ” JPA μ„ μ–Έ
- `@GeneratedValue`: κΈ°λ³Έ ν‚¤ κ°’μ„ μλ™μΌλ΅ μƒμ„±ν•λ„λ΅ μ„¤μ •
- `@Repository`: DB μ ‘κ·Όμ© μ»΄ν¬λ„νΈ, μμ™Έ λ³€ν™ κΈ°λ¥λ„ ν¬ν•¨
- `@Service`: λΉ„μ¦λ‹μ¤ λ΅μ§ μ²λ¦¬ μ»΄ν¬λ„νΈ
- `@SpringBootApplication`: μ•± μ§„μ…μ , μ»΄ν¬λ„νΈ μ¤μΊ” + μλ™ μ„¤μ • ν¬ν•¨
- `CommandLineRunner`: Spring Boot μ‹¤ν–‰ μ§ν›„ μλ™μΌλ΅ run() νΈμ¶λλ” μΈν„°νμ΄μ¤
- `GenerationType.IDENTITY`: MySQL λ°©μ‹, DBκ°€ μ§μ ‘ AUTO_INCREMENTλ΅ ID μƒμ„±
- ID νƒ€μ… λ…μ‹: `JpaRepository<T, ID>`μ—μ„ λ‘ λ²μ§Έ μ λ„¤λ¦­μ€ T ν΄λμ¤μ @Id ν•„λ“ νƒ€μ…κ³Ό μ •ν™•ν μΌμΉν•΄μ•Ό ν•¨
- JPA: μλ°” ORM ν‘μ¤€ (μΈν„°νμ΄μ¤)
- JpaRepository: Spring Data JPAκ°€ μ κ³µν•λ” μΈν„°νμ΄μ¤, CRUD λ©”μ„λ“ κΈ°λ³Έ λ‚΄μ¥
- ORM: κ°μ²΄(Object)μ™€ λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ”(Row)μ„ μλ™ λ§¤ν•‘ν•λ” κΈ°μ 
- Spring Data JPA: JPAλ¥Ό λ” νΈν•κ² μ¨μ£Όλ” Spring λ¨λ“
- Spring μλ™ κµ¬ν„: `JpaRepository`λ” μ°λ¦¬κ°€ μ• μ¨λ„ Springμ΄ λ‚΄λ¶€μ—μ„ μλ™ κµ¬ν„μ²΄λ¥Ό λ§λ“¤μ–΄μ„ μ—°κ²°ν•¨
- bean: μ¤ν”„λ§μ΄ μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ” κ°μ²΄ (μλ™ μƒμ„± + μ£Όμ… λ€μƒ)
- default λ©”μ„λ“: Java 8λ¶€ν„° μΈν„°νμ΄μ¤ μ•μ— κµ¬ν„ κ°€λ¥ν• λ©”μ„λ“ (`default void hello() {}` ν•νƒ)
- `ddl-auto`: Hibernateκ°€ DB ν…μ΄λΈ”μ„ μλ™ μƒμ„±/κ°±μ‹ ν•λ” μ„¤μ • ν‚¤μ›λ“
- κ°λ°μ μ—­ν• : μΈν„°νμ΄μ¤λ§ μ„ μ–Έν•κ³  λ΅μ§μ— μ§‘μ¤‘ν•λ©΄ λ¨
- extends: ν΄λμ¤ β†’ ν΄λμ¤ or μΈν„°νμ΄μ¤ β†’ μΈν„°νμ΄μ¤ μƒμ† μ‹ μ‚¬μ©
- implements: ν΄λμ¤ β†’ μΈν„°νμ΄μ¤ κµ¬ν„ μ‹ μ‚¬μ©
- jakarta.persistence: JPA μ–΄λ…Έν…μ΄μ…(`@Entity`, `@Id` λ“±)μ΄ μ •μλ ν¨ν‚¤μ§€
- μ λ„¤λ¦­(Generic): νƒ€μ…μ„ κΊ½μ‡ (<>)λ΅ λ°›μ•„μ„ μ μ—°ν•κ² μ‚¬μ©ν•  μ μκ² ν•λ” μλ°” λ¬Έλ²•
- μλ™ κµ¬ν„: μΈν„°νμ΄μ¤λ§ μ„ μ–Έν•΄λ„ Springμ΄ κµ¬ν„μ²΄λ¥Ό μλ™μΌλ΅ λ§λ“¤μ–΄μ„ λ™μ‘μ‹ν‚΄
- `JpaRepository<Product, Long>`: Product μ—”ν‹°ν‹°μ IDκ°€ Long νƒ€μ…μ΄λΌλ” κ±Έ λ…ν™•ν μ•λ ¤μ¤
- run λ©”μ„λ“: CommandLineRunnerκ°€ μ‹¤ν–‰ν•  λ‚΄μ©μ„ μ •μν•λ” λ©”μ„λ“
- strategy: μ–΄λ–¤ μƒμ„± μ „λµμ„ μ“Έμ§€ λ…μ‹μ μΌλ΅ μ§€μ •ν•΄μ•Ό DBλ§λ‹¤ λ‹¤λ¥΄κ² λ™μ‘ν•μ§€ μ•μ
- Entityλ” **JPAκ°€ κ΄€λ¦¬ν•λ” κ°μ²΄**, μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ κ΄€λ¦¬ν•μ§€ μ•μ
- `@Entity`λ” Bean λ“±λ΅ μ–΄λ…Έν…μ΄μ…μ΄ μ•„λ‹ β†’ newλ΅ μƒμ„± ν•„μ”
- Beanμ€ `@Component`, `@Service` λ“±μΌλ΅ λ“±λ΅ β†’ μμ΅΄μ„± μλ™ μ£Όμ… κ°€λ¥
- Spring Bean β‰  JPA Entity (κ΄€λ¦¬ λ€μƒμ΄ λ‹¤λ¦„!)