# [DB-5단계] 질문노트: DAO 패턴 (BookDao.java)

> 💬 봄이가 직접 궁금해서 물어본 것들 + 온이의 설명 요약  
> (코드: BookDao.java 실습 기준)

---

### 💡 1. insert(Book book)에서 Book 전체 객체를 넘기는 이유는?

| 질문 | 답변 요약 |
|------|-----------|
| 값을 따로 넘기는 게 더 직관적일 것 같은데, 왜 객체 통째로 넘겨? | DAO는 DB 한 줄을 하나의 객체로 추상화해서 다뤄. 객체를 통째로 넘기면 필드를 직접 꺼내어 ? 자리에 채우기 쉽고, 나중에 필드가 늘어나도 메서드 시그니처는 유지돼. 유지보수성과 확장성이 좋아! |

---

### 💡 2. insert 메서드는 어디서, 어떻게 호출해야 돼?

| 질문 | 답변 요약 |
|------|-----------|
| BookDao 클래스만 만들었는데 insert는 어디서 써? | insert는 BookDao를 사용하는 Main 클래스에서 호출해. Book 객체를 생성한 뒤 `dao.insert(book);`처럼 호출하면 내부에서 SQL 실행이 일어나. 흐름: Main → Book 생성 → DAO 생성 → insert 호출. |

---

### 💡 3. try-with-resources 괄호 안에 PreparedStatement, ResultSet을 넣는 이유는?

| 질문 | 답변 요약 |
|------|-----------|
| 그냥 중괄호 안에 써도 되는 거 아냐? | 자바에서 try-with-resources 괄호 안에 선언된 자원은 자동으로 close() 돼. DB 연결 객체, 쿼리 실행 도구, 결과셋은 자원 점유가 크기 때문에 자동으로 닫히게 하는 게 실무에서 중요해. |

---

### 💡 4. 이전 실습 코드에서는 ResultSet을 중괄호 안에 썼는데 왜?

| 질문 | 답변 요약 |
|------|-----------|
| BookCrudMain 예시에선 ResultSet이 try 괄호 밖에 있었던 것 같아 | 그건 단순한 실습 흐름이라 간단히 쓴 거고, 구조화된 DAO에서는 try 괄호 안에 ResultSet까지 넣는 게 더 안전하고 깔끔한 방식이야. 실습 코드 vs 실무 코드의 차이! |

---

### 💡 5. List<Book> list = new ArrayList<>(); 좌우 타입이 다른 이유는?

| 질문 | 답변 요약 |
|------|-----------|
| 왜 좌변은 List인데 우변은 ArrayList야? 그냥 똑같이 쓰면 안돼? | 좌변은 인터페이스(List)로 쓰는 게 다형성과 유연성 측면에서 좋아. 나중에 구현체를 LinkedList 등으로 바꿔도 코드 수정을 최소화할 수 있어. 실무에서는 항상 좌변은 인터페이스 타입으로 선언하는 습관을 가져! |

---

### 💡 6. prepareStatment(...) 오타로 오류가 났었어

| 질문 | 답변 요약 |
|------|-----------|
| 정확히 기억 못 했는데 왜 오류가 났던 거지? | 메서드 이름 오타였어. `prepareStatement`가 정확한 이름인데 `prepareStatment`로 철자가 빠졌던 거야. 메서드 이름은 정확히 입력해야 컴파일이 됨! |

---

### 🌱 정리 키워드

- 객체 전달 → 필드 수 변경에도 강한 구조
- insert 호출 위치 → Main 클래스
- try-with-resources → 자원 자동 닫힘
- ResultSet 괄호 위치 → 실습과 실무 구조 차이
- List vs ArrayList → 유연한 코드 작성을 위한 다형성
- 메서드 철자 → IDE 도움 받거나 자동완성 적극 활용
