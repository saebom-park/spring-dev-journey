# Day02 – 프로세스와 스레드 (Questions)

# 1. 기본 질문 (Basic)
---

### **Q1. 프로세스란 무엇인가요?**
**A.**  
“프로세스는 ‘실행 중인 프로그램’을 말합니다.  
운영체제가 Code, Data, Heap, Stack 같은 독립된 메모리 공간을 할당해 주기 때문에  
다른 프로세스와 완전히 격리된 상태에서 안전하게 실행될 수 있습니다.  
즉, 하나의 프로그램이 실제로 메모리에 올라와 하드웨어 자원을 부여받은 실행 단위라고 보면 됩니다.”

---

### **Q2. 스레드란 무엇인가요?**
**A.**  
“스레드는 프로세스 내부에서 실행 흐름을 나눈 단위입니다.  
한 프로세스 안에서 여러 스레드가 만들어지면  
Code, Data, Heap 같은 메모리를 함께 쓰면서 동시에 실행될 수 있습니다.  
그래서 같은 작업을 병렬로 처리하거나 요청을 빠르게 처리하는 데 매우 유용합니다.”

---

### **Q3. 프로세스와 스레드의 가장 큰 차이는 무엇인가요?**
**A.**  
“프로세스는 서로 완전히 독립된 메모리 공간을 갖지만,  
스레드는 같은 프로세스 내부에서 메모리를 공유합니다.  
따라서 프로세스는 안정성이 높지만 비용이 크고,  
스레드는 가볍지만 공유 자원 충돌 가능성이 있습니다.”

---

# 2. 중급 질문 (Intermediate)
---

### **Q4. 프로세스가 독립적이라는 말은 무슨 의미인가요?**
**A.**  
“프로세스는 자체 주소 공간을 가지고 있어서  
다른 프로세스가 그 메모리를 읽거나 쓰는 것이 불가능합니다.  
이 덕분에 한 프로세스가 오류를 일으켜도  
다른 프로세스까지 영향을 끼치지 않고 시스템 안정성이 유지됩니다.”

---

### **Q5. 스레드가 공유하는 자원은 무엇인가요?**
**A.**  
“스레드는 Code 영역, 전역 변수가 있는 Data 영역,  
동적 메모리인 Heap 영역을 함께 사용합니다.  
하지만 함수 호출 정보와 지역 변수를 저장하는 Stack은 스레드마다 독립적으로 존재합니다.  
이 구조 때문에 공유 자원에 동시에 접근하면 경쟁 상태가 발생할 수 있습니다.”

---

# 3. 심화 질문 (Advanced)
---

### **Q6. 컨텍스트 스위칭이 일어나면 실제로 어떤 일이 벌어지나요?**
**A.**  
“CPU는 지금 실행 중인 스레드의 레지스터 값, Program Counter(PC) 값 등  
현재 상태를 TCB(Thread Control Block)에 저장합니다.  
그리고 다음에 실행할 스레드의 저장된 상태를 CPU로 불러와서  
마치 아무 일 없었다는 듯 실행을 이어갑니다.  
이 과정이 비용이 크기 때문에 스레드가 많아질수록 전체 성능이 떨어질 수 있습니다.”

---

### **Q7. 스레드가 많아지면 왜 성능이 떨어지나요?**
**A.**  
“스레드 수가 증가하면 그만큼 컨텍스트 스위칭 횟수가 늘어나고,  
CPU는 ‘실제 작업’보다 ‘전환 작업’에 더 많은 시간을 쓰게 됩니다.  
또한 공유 자원을 두고 락 경쟁이 심해져 대기 시간이 늘어나기 때문입니다.”

---

# 4. 꼬리질문 (Follow-up)
---

### **Q8. 그렇다면 스레드 풀은 어떻게 크기를 정해야 하나요?**
**A.**  
“CPU 작업이 많은 서버는 CPU 코어 수에 가깝게 설정하고,  
I/O 작업이 많은 서버는 대기 시간이 길기 때문에 조금 더 여유 있게 잡습니다.  
일반적으로 공식이 있으며, 실제 서비스의 응답 시간과 부하 패턴을 기반으로 최종적으로 조정합니다.”

---

### **Q9. 프로세스보다 스레드를 더 많이 사용하는 이유는 무엇인가요?**
**A.**  
“프로세스는 생성할 때마다 독립된 메모리를 만들어야 하기 때문에 비용이 큽니다.  
반면 스레드는 기존 프로세스의 메모리를 재사용하므로 훨씬 가볍고 빠르게 생성됩니다.  
또한 통신도 쉬워서 병렬 처리 구조를 만들 때 더 효율적입니다.”

---

# 5. 실무 질문 (Practical)
---

### **Q10. 서버가 갑자기 느려졌을 때 프로세스/스레드 관점에서 무엇을 확인하나요?**
**A.**  
“먼저 스레드 풀의 상태, 런큐 길이(run queue), 컨텍스트 스위칭 횟수,  
CPU 사용률, 락 경쟁 여부, DB 커넥션 풀 대기 여부를 확인합니다.  
이 지표들이 대부분 성능 저하의 원인을 보여줍니다.”

---

### **Q11. Java 백엔드에서 스레드 개념이 특히 중요한 이유는 무엇인가요?**
**A.**  
“Tomcat의 요청 처리 모델이 스레드 기반이고,  
@Async, ExecutorService, CompletableFuture 같은 기능들도 모두 스레드를 기반으로 합니다.  
DB 커넥션 풀도 내부적으로 스레드 동기화를 사용하며,  
비동기/논블로킹 모델 역시 내부적으로는 OS 스레드 위에서 동작합니다.”

---

# 6. 비교 질문 (Comparison)
---

### **Q12. 프로세스와 스레드의 메모리 구조 차이를 설명해주세요.**
**A.**  
“프로세스는 Code, Data, Heap, Stack 전체가 독립된 구조이고,  
스레드는 Code, Data, Heap은 공유하지만 Stack만 개별적으로 가집니다.  
이 차이 때문에 프로세스는 안정성이 높고, 스레드는 효율성이 높습니다.”

---

### **Q13. IPC와 스레드 간 통신의 차이는 무엇인가요?**
**A.**  
“프로세스 간에는 메모리를 공유하지 않기 때문에  
Pipe, Message Queue, Shared Memory 같은 IPC 기법이 필요합니다.  
반면 스레드는 같은 프로세스 내부에서 메모리를 공유하기 때문에  
단순한 함수 호출이나 공유 객체 접근만으로도 통신이 가능합니다.”
