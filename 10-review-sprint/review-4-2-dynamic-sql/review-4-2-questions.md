# [REVIEW-4-2] 질문노트: 동적 SQL 처리

> 💬 봄이가 직접 궁금해서 물어본 것들 + 온이의 설명 요약  
> (코드: ProductMapper.xml 실습 기준)

---

### 💡 1. `<if>` 태그에는 `<else>` 못 쓰는 거야?

| 질문 | 답변 요약 |
|------|-----------|
| `<if>` 태그에서 조건이 false일 때 `<else>` 같은 거 못 써? | MyBatis의 `<if>`에는 `<else>`가 없어. 대신 `<choose>`, `<when>`, `<otherwise>` 구조로 if-else 흐름을 구현해야 해. |

---

### 💡 2. `#{}`이랑 `${}`은 정확히 뭐가 다른 거야?

| 질문 | 답변 요약 |
|------|-----------|
| 둘 다 바인딩 같은데 왜 구분해서 써? | `#{}`는 PreparedStatement 방식으로 값만 바인딩해서 안전하고, `${}`는 문자열을 그대로 SQL에 삽입하기 때문에 정렬 조건처럼 SQL 조각이 필요할 때만 써야 해. 보안 위험이 있어. |

---

### 💡 3. XML 빨간줄 뜨면서 "태그 이름 필요" 라고 하는데 왜 그래?

| 질문 | 답변 요약 |
|------|-----------|
| `#{}` 썼는데 XML에서 오류 뜨는 건 왜야? | XML 파서가 MyBatis 문법을 인식하지 못해서 그래. 실제 실행에는 문제 없고, IDE 확장팩 설치하면 오류 표시 없이 작성 가능해. |

---

### 💡 4. 정렬 조건 `sortBy`, `sortDir` 기본값은 어디서 설정해야 돼?

| 질문 | 답변 요약 |
|------|-----------|
| 클라이언트가 정렬 값을 안 보낼 때 기본값을 어떻게 줄 수 있어? | 서비스 계층에서 DTO를 검사해서 기본값을 주는 게 제일 안전해. "product_name", "asc"처럼 직접 set해주는 게 좋아. |

---

### 🌱 정리 키워드

- `<choose>`, `<otherwise>` 분기 처리
- `#{}`: 값 바인딩 / `${}`: SQL 삽입
- XML 파싱 vs MyBatis 실행 분리
- 기본값은 서비스 계층에서 설정

