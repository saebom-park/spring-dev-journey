# [SPRING-5단계] 질문노트: DTO 설계 & JSON 매핑

> 💬 봄이가 spring-5 실습 중 궁금했던 것들 + 온이의 설명 요약
> 
> 
> (코드: springlab11 실습 기준)
> 

---

### 💡 1. OrderRequestDto에 생성자는 왜 안 만드는 거야?

| 질문 | 답변 요약 |
| --- | --- |
| 기본 생성자도 없는데 어떻게 JSON이 DTO로 바뀌는 거야? | Jackson이 `@RequestBody` 요청을 처리할 때, 기본 생성자를 호출해서 객체를 만들고 이후에 값을 주입해줘. 우리가 new 하는 게 아니니까 없어도 되는 거야. |
| 그런데 ResponseDto에는 왜 생성자를 넣은 거야? | 그건 우리가 직접 `new ResponseDto(...)`로 만들기 때문이야. 이럴 땐 생성자가 꼭 필요해! |

---

### 💡 2. setter도 없는데 JSON 값이 어떻게 들어가?

| 질문 | 답변 요약 |
| --- | --- |
| private인데 setter도 없는데 어떻게 값이 들어가는 거야? | Jackson이 리플렉션이라는 기술로 private 필드에 직접 접근해서 값을 넣어줘. 내부적으로 `setAccessible(true)`로 잠긴 필드를 열어버리는 거야! |
| 그럼 setter 없어도 되는 거야? | 응! 요즘은 setter 없는 구조가 더 많이 쓰여. 필드를 final로 두고 불변 구조로 유지하면 더 안전하고 깔끔하거든. |

---

### 💡 3. getter는 없어도 된다면서 예시코드엔 왜 있는 거야?

| 질문 | 답변 요약 |
| --- | --- |
| @RequestBody로만 쓰는 DTO면 getter 없어도 된다며? | 맞아. 필드에 직접 접근하니까 getter 없어도 동작해. |
| 근데 왜 예시코드엔 넣은 거야? | 실무에선 getter가 기본처럼 쓰이기도 하고, 내부에서 값을 읽어야 하는 경우를 대비해서 미리 넣어두는 경우가 많아. Jackson 설정에 따라 오류 나는 경우도 있어서 안정성 차원에서 넣어둔 거야. |

---

### 💡 4. OrderRequestDto는 그냥 객체잖아. 근데 왜 JSON이야?

| 질문 | 답변 요약 |
| --- | --- |
| OrderRequestDto는 그냥 객체인데, 왜 JSON이라고 해? | 클라이언트가 보내는 건 JSON 문자열이야! 그걸 스프링이 자바 객체로 변환해주는 거고, 그때 "이건 본문에 있는 JSON이야!" 라고 알려주는 역할이 바로 `@RequestBody`야. |
| 그럼 @RequestBody 없으면 안 돼? | 응. 없으면 스프링은 쿼리 파라미터나 form 데이터로 착각해. JSON으로 요청해도 값이 전부 null로 들어가거나 에러 나! |

---

### 🌱 정리 키워드

- Jackson은 기본 생성자 기반으로 객체를 만들고, 리플렉션으로 값을 주입함
- setter 없어도 값 주입 가능 (setAccessible로 필드 직접 접근)
- getter 없어도 되지만 관습적으로 포함하는 경우가 많음
- 응답 DTO는 우리가 직접 new 하니까 생성자 + getter 필요!
- `@RequestBody`는 "이건 요청 본문의 JSON이야!" 라고 알려주는 역할
- Jackson은 기본 생성자 기반으로 객체를 만들고, 리플렉션으로 값을 주입함
- setter 없어도 값 주입 가능 (setAccessible로 필드 직접 접근)
- getter 없어도 되지만 관습적으로 포함하는 경우가 많음
- 응답 DTO는 우리가 직접 new 하니까 생성자 + getter 필요!