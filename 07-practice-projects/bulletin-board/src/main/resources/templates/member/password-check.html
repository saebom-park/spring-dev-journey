<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout('비밀번호 확인', ~{::content})}">
<body>
<section th:fragment="content" class="bb-stack bb-stack--lg">

    <div class="bb-card bb-card--spaced bb-profile-container">
        <div class="bb-card__header">
            <h1 class="bb-page-title">비밀번호 확인</h1>
            <p class="bb-page-subtitle">
                보안을 위해 먼저 현재 비밀번호를 입력해주세요.
            </p>
        </div>

        <div class="bb-card__body">

            <!-- 프로필 카드 (내 정보/정보 수정과 동일) -->
            <div class="bb-profile-header">
                <div class="bb-profile-main">
                    <div class="bb-profile-avatar"
                         th:text="${#strings.substring(member.name, 0, 1)}">
                    </div>
                    <div>
                        <div class="bb-profile-name" th:text="${member.name}"></div>
                    </div>
                </div>

                <div class="bb-profile-badge">
                    일반 회원
                </div>
            </div>

            <form th:action="@{/members/me/password/check}"
                  th:object="${passwordCheckForm}"
                  method="post"
                  class="bb-form">

                <!-- 현재 비밀번호 -->
                <div class="bb-form-group">
                    <label class="bb-form-label">현재 비밀번호</label>
                    <input type="password"
                           th:field="*{password}"
                           class="bb-input"/>

                    <div th:if="${#fields.hasErrors('password')}"
                         class="bb-field-error">
                        <span class="bb-check-icon bb-check-icon--error" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none">
                                <path d="M6 6L18 18M6 18L18 6"
                                      stroke="currentColor" stroke-width="2"
                                      stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span class="bb-check-text" th:errors="*{password}"></span>
                    </div>
                </div>

                <div class="bb-actions bb-actions--right bb-profile-actions">
                    <a th:href="@{/members/me}" class="bb-btn bb-btn--ghost">
                        취소
                    </a>
                    <button type="submit" class="bb-btn bb-btn--primary">
                        확인
                    </button>
                </div>

            </form>

        </div>
    </div>

</section>
</body>
</html>