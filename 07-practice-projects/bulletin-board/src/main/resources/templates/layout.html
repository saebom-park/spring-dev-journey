<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(title, content)">
<head>
    <meta charset="UTF-8">
    <title th:text="${title} ?: 'Saebom Board'">Saebom Board</title>
    <link rel="stylesheet" th:href="@{/css/bulletin.css}">
</head>
<body class="bb-body">

<div class="bb-layout">

    <!-- Sidebar -->
    <aside class="bb-sidebar">
        <div class="bb-sidebar__brand">
            <div class="bb-sidebar__logo">S</div>
            <div>
                <div class="bb-sidebar__title">Saebom Board</div>
                <div class="bb-sidebar__subtitle">Bulletin Dashboard</div>
            </div>
        </div>

        <div class="bb-sidebar__user-inline bb-sidebar__user-inline--center" th:if="${loginMemberId != null}">
            <a th:href="@{/members/edit}"
               class="bb-sidebar__inline-btn">
                회원정보 수정
            </a>
            <form th:action="@{/logout}" method="post" style="margin:0;">
                <input type="hidden" name="redirectURL" th:value="${currentURL}" />
                <button type="submit"
                        class="bb-sidebar__inline-btn bb-sidebar__inline-btn--logout">
                    로그아웃
                </button>
            </form>
        </div>

        <div class="bb-sidebar__user-inline bb-sidebar__user-inline--center" th:if="${loginMemberId == null}">
            <a th:href="@{/login}" class="bb-sidebar__inline-btn">
                로그인
            </a>
            <a th:href="@{/members/new}" class="bb-sidebar__inline-btn">
                회원가입
            </a>
        </div>

        <nav class="bb-sidebar__nav">
            <div class="bb-sidebar__nav-title">Overview</div>
            <a th:href="@{/articles}" class="bb-sidebar__link bb-sidebar__link--active">
                <span class="bb-sidebar__link-icon">◆</span>
                <span>Articles</span>
            </a>
            <a href="#" class="bb-sidebar__link">
                <span class="bb-sidebar__link-icon">◎</span>
                <span>Members</span>
            </a>
        </nav>

        <div class="bb-sidebar__footer">
            <div>spring-dev-journey</div>
            <div>bulletin-board · MyBatis</div>
        </div>
    </aside>

    <!-- Main -->
    <div class="bb-main">

        <!-- Header -->
        <header class="bb-header">
            <div class="bb-header__title-group">
                <h1 class="bb-header__title" th:text="${title}">Page title</h1>
                <div class="bb-header__subtitle">
                    Simple bulletin board powered by Spring Boot & MyBatis.
                </div>
            </div>
            <div class="bb-header__right">
                <div class="bb-header__pill">
                    v1.0 · Practice Project
                </div>
            </div>
        </header>

        <!-- Content -->
        <main class="bb-content">
            <section th:insert="${content}"></section>
        </main>

    </div>

</div>

</body>
</html>